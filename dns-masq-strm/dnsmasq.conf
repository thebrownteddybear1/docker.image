# Basic configuration
port=53
bind-interfaces

# Listen on container's IP and localhost
listen-address=127.0.0.1,172.22.0.2

# Don't forward plain names (without a dot or domain part)
domain-needed

# Don't forward reverse lookups for local networks
bogus-priv

# Add custom hosts file for static DNS entries
addn-hosts=/etc/dnsmasq-hosts

# UPSTREAM DNS SERVERS - used when not found in custom-hosts
server=192.168.50.1
server=1.1.1.1
server=8.8.8.8

# Don't use /etc/resolv.conf or other system DNS settings
no-resolv

# Don't use /etc/hosts (we use addn-hosts instead)
no-hosts

# Cache settings (improves performance)
cache-size=1000
local-ttl=300

# Logging
log-queries
log-facility=-