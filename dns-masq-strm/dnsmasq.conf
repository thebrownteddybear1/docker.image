# Basic configuration
port=53
listen-address=127.0.0.1,192.168.50.53

# Allow queries from all subnets (Replaces the broken local-service line)
# This ensures your VCF Management and Workload subnets can talk to this DNS
bind-dynamic

# Performance and VCF Requirements
domain-needed
bogus-priv
no-resolv
no-hosts

# Custom Records
addn-hosts=/etc/dnsmasq-hosts

# Upstream DNS
server=192.168.50.1
server=1.1.1.1
server=8.8.8.8

# Logging for debugging VCF lookups
log-queries
log-facility=-